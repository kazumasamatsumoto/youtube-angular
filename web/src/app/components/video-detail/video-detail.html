@if (notFound()) {
  <div class="not-found">
    <h1>å‹•ç”»ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“</h1>
    <p>æŒ‡å®šã•ã‚ŒãŸå‹•ç”»ã¯å­˜åœ¨ã—ã¾ã›ã‚“ã€‚</p>
    <a routerLink="/videos" class="back-link">å‹•ç”»ä¸€è¦§ã«æˆ»ã‚‹</a>
  </div>
} @else if (video(); as currentVideo) {
  <div class="video-detail-container">
    <div class="breadcrumb">
      <a routerLink="/">ãƒ›ãƒ¼ãƒ </a>
      <span> / </span>
      <a routerLink="/videos">å‹•ç”»ä¸€è¦§</a>
      <span> / </span>
      <span>{{ currentVideo.title }}</span>
    </div>

    <article class="video-article">
      <header class="video-header">
        <div class="video-meta-top">
          <span class="category-badge">{{ getCategoryLabel(currentVideo.category) }}</span>
          <span class="date">{{ formatDate(currentVideo.publishedDate) }}</span>
        </div>
        <h1>{{ currentVideo.title }}</h1>
        <p class="video-description">{{ currentVideo.description }}</p>
        @if (currentVideo.youtubeUrl) {
          <div class="youtube-link">
            <a [href]="currentVideo.youtubeUrl" target="_blank" rel="noopener noreferrer" class="youtube-button">
              ğŸ“º YouTubeã§è¦‹ã‚‹
            </a>
          </div>
        }
      </header>

      <section class="video-content">
        <h2>ğŸ“ æ¦‚è¦</h2>
        <div class="overview">
          <p [innerHTML]="currentVideo.content.overview.replace(/\n/g, '<br>')"></p>
        </div>
      </section>

      @if (currentVideo.content.codeSamples.length > 0) {
        <section class="code-samples">
          <h2>ğŸ’» ã‚³ãƒ¼ãƒ‰ã‚µãƒ³ãƒ—ãƒ«</h2>
          @for (sample of currentVideo.content.codeSamples; track sample.title) {
            <div class="code-sample">
              <h3>{{ sample.title }}</h3>
              @if (sample.description) {
                <p class="code-description">{{ sample.description }}</p>
              }
              <div class="code-block">
                <div class="code-header">
                  <span class="code-language">{{ sample.language }}</span>
                  <button 
                    class="copy-button" 
                    (click)="copyToClipboard(sample.code)"
                    title="ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼">
                    ğŸ“‹ ã‚³ãƒ”ãƒ¼
                  </button>
                </div>
                <pre><code [class]="getCodeSampleLanguageClass(sample.language)">{{ sample.code }}</code></pre>
              </div>
            </div>
          }
        </section>
      }

      @if (currentVideo.content.correctUsageLinks.length > 0) {
        <section class="correct-usage">
          <h2>âœ… æ­£ã—ã„ä½¿ã„æ–¹ã¸ã®ãƒªãƒ³ã‚¯</h2>
          <div class="links-list">
            @for (link of currentVideo.content.correctUsageLinks; track link.url) {
              <a [href]="link.url" target="_blank" rel="noopener noreferrer" class="link-card">
                <div class="link-content">
                  <h3>{{ link.title }}</h3>
                  @if (link.description) {
                    <p>{{ link.description }}</p>
                  }
                </div>
                <span class="link-arrow">â†’</span>
              </a>
            }
          </div>
        </section>
      }

      <section class="video-footer">
        <div class="tagline">
          <p><strong>ã€Œã§ã‚‚å‹•ãã‚“ã ã‚ˆã­ã€</strong></p>
        </div>
        <div class="navigation-links">
          <a routerLink="/videos" class="nav-link">â† å‹•ç”»ä¸€è¦§ã«æˆ»ã‚‹</a>
        </div>
      </section>
    </article>
  </div>
}
